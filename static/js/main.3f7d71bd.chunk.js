(this["webpackJsonpclassroom-app"]=this["webpackJsonpclassroom-app"]||[]).push([[0],{188:function(e,t,n){},228:function(e,t,n){},229:function(e,t,n){},230:function(e,t,n){},231:function(e,t,n){},232:function(e,t,n){},233:function(e,t,n){},234:function(e,t,n){},235:function(e,t,n){},236:function(e,t,n){},237:function(e,t,n){},238:function(e,t,n){},239:function(e,t,n){},240:function(e,t,n){},241:function(e,t,n){},242:function(e,t,n){},243:function(e,t,n){},244:function(e,t,n){},246:function(e,t,n){},247:function(e,t,n){},248:function(e,t,n){},249:function(e,t,n){},250:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),i=n(53),s=n.n(i),r=(n(188),n(44)),o=n(9),l=n(281),d=n(280),u=n(52),f=n(3),j={root:{height:"100vh",width:"20vh",boxSizing:"border-box",border:"1px solid #eee",overflowY:"auto",paddingTop:"10vh"}},h=[{links:[{name:"Dashboard",key:"key1",url:"/",iconProps:{iconName:"News",styles:{root:{fontSize:20,color:"#106ebe"}}}},{name:"Settings",key:"key2",url:"/home",iconProps:{iconName:"PlayerSettings",styles:{root:{fontSize:20,color:"#106ebe"}}}},{name:"Transfer",key:"key3",url:"https://airtable.com/appAJsbYxShYzpELk/tblY9bGcVdOauzdOJ/viwGJJfFpIBTAj2pr?blocks=hide",iconProps:{iconName:"SwitcherStartEnd",styles:{root:{fontSize:20,color:"#106ebe"}}}},{name:"Stats",key:"key4",url:"/",iconProps:{iconName:"StackedLineChart",styles:{root:{fontSize:20,color:"#106ebe"}}}}]}],b=function(){return Object(l.a)(),Object(f.jsx)("div",{children:Object(f.jsx)(d.a,{groups:h,selectedKey:"key1",styles:j})})},p=n(106),v=n(8),m=n(59),O=n(60),x=n(61),C=n(62),w=(c.Component,function(e){Object(x.a)(n,e);var t=Object(C.a)(n);function n(){return Object(m.a)(this,n),t.apply(this,arguments)}return Object(O.a)(n,[{key:"onClick",value:function(e,t){u.a.push(t.link)}},{key:"render",value:function(){return Object(f.jsxs)("div",{children:[Object(f.jsx)("p",{children:"this xxx"}),Object(f.jsx)("iframe",{class:"airtable-embed",src:"https://airtable.com/embed/shrzA4M4HVeV1vnFg?backgroundColor=cyan&viewControls=on",style:{background:"transparent",marginLeft:"240px",border:"1px solid #ccc",frameborder:"0",width:"70%",height:"633px"}})]})}}]),n}(c.Component)),L=w,g=(n(201),n(7)),y=n(12),k=n.n(y),S=n(26),N=n(78);n(222);N.a.initializeApp({apiKey:"AIzaSyD365RmTl2k7_7U_XppztI2r-pmxPwmeAY",authDomain:"dolbyio-legwork-demo.firebaseapp.com",databaseURL:"https://dolbyio-legwork-demo-default-rtdb.firebaseio.com/",projectId:"dolbyio-legwork-demo",storageBucket:"dolbyio-legwork-demo.appspot.com",messagingSenderId:"824149573948",appId:"1:824149573948:web:25f47f9cbed93f9d5b1e39",measurementId:"G-CRX91V0P75"});var _=N.a.database(),I=[{name:"Student 1",participantId:!1,isHandRaised:!1,isCalledOn:!1},{name:"Student 2",participantId:!1,isHandRaised:!1,isCalledOn:!1},{name:"Student 3",participantId:!1,isHandRaised:!1,isCalledOn:!1},{name:"Student 4",participantId:!1,isHandRaised:!1,isCalledOn:!1},{name:"Student 5",participantId:!1,isHandRaised:!1,isCalledOn:!1},{name:"Student 6",participantId:!1,isHandRaised:!1,isCalledOn:!1}],A=function(e){var t=e.cell,n=e.callback;_.ref("".concat(t,"/teacherId")).on("value",(function(e){n({newData:e.val()})}))},R=function(e){var t=e.cell,n=e.teacherId,c=_.ref("".concat(t,"/teacherId"));return new Promise((function(e,t){c.set(n,(function(){e()})).catch((function(e){t(e)}))}))},V=function(){var e=Object(S.a)(k.a.mark((function e(t){var n,c;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.cell,c=_.ref(n),e.next=4,c.set({classRoom:I,isStudentFreeform:!1});case 4:return e.abrupt("return",I);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),H=function(){var e=Object(S.a)(k.a.mark((function e(t){var n,c,a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.cell,c=_.ref("".concat(n,"/classRoom")),e.next=4,c.get();case 4:return a=e.sent,e.abrupt("return",a.val());case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),M=function(){var e=Object(S.a)(k.a.mark((function e(t){var n,c,a,i,s,r;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.cell,c=t.seat,!1===(a=t.userId)){e.next=7;break}return i=_.ref("".concat(n,"/classRoom/").concat(c,"/participantId")),e.next=5,i.set(a);case 5:e.next=15;break;case 7:return s=_.ref("".concat(n,"/classRoom/").concat(c)),e.next=10,s.get();case 10:return e.next=12,e.sent.val().name;case 12:return r=e.sent,e.next=15,s.set({participantId:!1,isCalledOn:!1,isHandRaised:!1,name:r});case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),U=function(){var e=Object(S.a)(k.a.mark((function e(t){var n,c,a,i;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.cell,c=t.seat,a=t.isHandRaised,i=_.ref("".concat(n,"/classRoom/").concat(c,"/isHandRaised")),e.next=4,i.set(a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=Object(S.a)(k.a.mark((function e(t){var n,c,a,i;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.cell,c=t.seat,a=t.isCalledOn,i=_.ref("".concat(n,"/classRoom/").concat(c,"/isCalledOn")),e.next=4,i.set(a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(g.initialize)("5d6Z701WLaUOM87BwqXe5w==","ETxUM6YSvagwQAPrO2yBUWccseRprEdyhf2BgRlPuv8=");var P=function(){var e=Object(S.a)(k.a.mark((function e(t){var n,c;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(g.conference.join(t,{constraints:{audio:!1,video:!0}}),!t.isNew){e.next=9;break}return console.log("creating new conference"),e.next=5,V({cell:t.alias});case 5:return n=e.sent,e.abrupt("return",n);case 9:return console.log("joining existing conference"),e.next=12,H({cell:t.alias});case 12:return c=e.sent,e.abrupt("return",c);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),B=function(){return new Promise((function(e,t){g.mediaDevice.enumerateAudioDevices().then((function(t){e(t)})).catch((function(e){t(e)}))}))},T=function(){return new Promise((function(e,t){g.mediaDevice.enumerateVideoDevices().then((function(t){e(t)})).catch((function(e){t(e)}))}))},Y=function(e){g.mediaDevice.selectAudioInput(e).then((function(){})).catch((function(e){return console.error}))},Z=function(e){g.mediaDevice.selectVideoInput(e).then((function(){})).catch((function(e){return console.error}))};function D(e){var t=e.width,n=e.height,c=e.fill,a=e.isAudioOff,i={width:"".concat(t,"px"),height:"".concat(n,"px")},s="0 0 ".concat(24," ",24),r="mx-2 flex-none";return a?Object(f.jsx)("svg",{style:i,viewBox:s,className:r,children:Object(f.jsx)("path",{fill:c,d:"M19,11C19,12.19 18.66,13.3 18.1,14.28L16.87,13.05C17.14,12.43 17.3,11.74 17.3,11H19M15,11.16L9,5.18V5A3,3 0 0,1 12,2A3,3 0 0,1 15,5V11L15,11.16M4.27,3L21,19.73L19.73,21L15.54,16.81C14.77,17.27 13.91,17.58 13,17.72V21H11V17.72C7.72,17.23 5,14.41 5,11H6.7C6.7,14 9.24,16.1 12,16.1C12.81,16.1 13.6,15.91 14.31,15.58L12.65,13.92L12,14A3,3 0 0,1 9,11V10.28L3,4.27L4.27,3Z"})}):Object(f.jsx)("svg",{style:i,viewBox:s,className:r,children:Object(f.jsx)("path",{fill:c,d:"M12,2A3,3 0 0,1 15,5V11A3,3 0 0,1 12,14A3,3 0 0,1 9,11V5A3,3 0 0,1 12,2M19,11C19,14.53 16.39,17.44 13,17.93V21H11V17.93C7.61,17.44 5,14.53 5,11H7A5,5 0 0,0 12,16A5,5 0 0,0 17,11H19Z"})})}function z(e){var t=e.width,n=e.height,c=e.fill,a=e.isVideoOff,i={width:"".concat(t,"px"),height:"".concat(n,"px")},s="0 0 ".concat(24," ",24),r="mx-2 flex-none";return a?Object(f.jsx)("svg",{style:i,viewBox:s,className:r,children:Object(f.jsx)("path",{fill:c,d:"M3.27,2L2,3.27L4.73,6H4A1,1 0 0,0 3,7V17A1,1 0 0,0 4,18H16C16.2,18 16.39,17.92 16.54,17.82L19.73,21L21,19.73M21,6.5L17,10.5V7A1,1 0 0,0 16,6H9.82L21,17.18V6.5Z"})}):Object(f.jsx)("svg",{style:i,viewBox:s,className:r,children:Object(f.jsx)("path",{fill:c,d:"M17,10.5V7A1,1 0 0,0 16,6H4A1,1 0 0,0 3,7V17A1,1 0 0,0 4,18H16A1,1 0 0,0 17,17V13.5L21,17.5V6.5L17,10.5Z"})})}var F=n(104),G=n.n(F);n(227);function J(e){var t=e.type,n=Object(c.useState)([]),a=Object(o.a)(n,2),i=a[0],s=a[1];Object(c.useEffect)((function(){return("audio"===t?B:T)().then((function(e){s(e.map((function(e){return{value:e.deviceId,label:e.label}})))})),function(){}}),[]);var r=Object(c.useCallback)((function(e){("audio"===t?Y:Z)(e.value)}),[t]);return Object(f.jsx)(G.a,{className:"media-dropdown",style:{marginRight:"2px"},options:i,value:i[0],onChange:r})}var X=n(22);n(228);function q(e){var t=e.width,n=e.height,c=e.fill,a=e.additionalStyles,i=Object(X.a)({width:"".concat(t,"px"),height:"".concat(n,"px")},a),s="0 0 ".concat(24," ",24);return Object(f.jsxs)("svg",{style:i,viewBox:s,className:"settings-icon",children:[Object(f.jsx)("path",{d:"M15.4037 9.29982L14.126 10.2222L13.1317 9.22793L14.0541 7.95016C13.8411 7.59476 13.6281 7.09831 13.5576 6.67238L11.9963 6.38888V4.96867L13.5576 4.68517C13.7 4.25924 13.8411 3.76279 14.0541 3.4074L13.1317 2.12962L14.126 1.13534L15.4037 2.05773C15.7591 1.84476 16.2556 1.6318 16.6815 1.56127L16.9663 0H18.3865L18.6701 1.56127C19.096 1.70369 19.5924 1.84477 19.9478 2.05773L21.2256 1.13534L22.2199 2.12962L21.2975 3.4074C21.5105 3.76279 21.7234 4.25924 21.794 4.68517L23.3552 4.97001V6.39021L21.794 6.67372C21.6515 7.09964 21.5105 7.5961 21.2975 7.95149L22.2199 9.22926L21.2256 10.2235L19.9478 9.30116C19.5924 9.51412 19.096 9.72708 18.6701 9.79762L18.3852 11.3589H16.965L16.6815 9.79762C16.2556 9.72574 15.8297 9.51278 15.4037 9.29983V9.29982ZM19.8054 5.67947C19.8054 4.47223 18.883 3.54985 17.6758 3.54985C16.4685 3.54985 15.5462 4.47223 15.5462 5.67947C15.5462 6.88671 16.4685 7.80909 17.6758 7.80909C18.883 7.80909 19.8054 6.88671 19.8054 5.67947Z",fill:c}),Object(f.jsx)("path",{d:"M3.33682 18.5278L0.781278 19.2372L-3.8147e-05 17.25L2.20012 16.0428C2.12957 15.5463 2.0577 14.978 2.12957 14.4815L-4.86374e-05 13.2743L0.851801 11.2871L2.98142 11.8554C3.33681 11.2871 3.76274 10.8612 4.18866 10.5071L3.62031 8.44805L5.6075 7.66674L6.60178 9.37043C7.24067 9.22801 7.95009 9.22801 8.66087 9.29989L9.65515 7.59619L11.5705 8.51857L11.074 10.3647C11.6424 10.7906 12.1388 11.2871 12.4942 11.8554L14.4109 11.359L15.1922 13.3462L13.3461 14.411C13.4166 15.0499 13.3461 15.6182 13.2755 16.2571L15.1922 17.3925L14.3403 19.3796L11.9978 18.7408C11.6424 19.1667 11.2883 19.5221 10.7905 19.8056L11.4294 22.2187L9.44221 23L8.16444 20.728C7.73851 20.7985 7.24205 20.728 6.81613 20.6574L5.46782 23L3.48063 22.1481L4.19005 19.5926C3.97576 19.2385 3.62037 18.8832 3.33687 18.5278L3.33682 18.5278ZM10.5775 14.9075C10.5775 13.3462 9.29977 12.0684 7.7385 12.0684C6.17723 12.0684 4.89946 13.3462 4.89946 14.9075C4.89946 16.4687 6.17723 17.7465 7.7385 17.7465C9.29977 17.7478 10.5775 16.47 10.5775 14.9075Z",fill:c})]})}n(229);function K(e){var t=e.width,n=e.height,c=e.fill,a=e.additionalStyles,i=Object(X.a)({width:"".concat(t,"px"),height:"".concat(n,"px")},a);return Object(f.jsxs)("svg",{style:i,width:"24",height:"23",viewBox:"0 0 24 23",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"link-icon",children:[Object(f.jsx)("path",{d:"M6.55873 23C8.29384 23 9.95898 22.3109 11.1857 21.083L14.7193 17.537C15.1711 17.0851 15.1711 16.352 14.7193 15.9001C14.2674 15.4483 13.5343 15.4483 13.0824 15.9001L9.56013 19.4461C8.48471 20.5034 6.92921 20.9124 5.47307 20.5181C4.01583 20.1239 2.87829 18.9863 2.48405 17.5291C2.0898 16.073 2.49873 14.5175 3.55606 13.442L7.09077 9.90849C7.45564 9.44759 7.41836 8.78677 7.00266 8.37106C6.58696 7.95536 5.92611 7.91696 5.46524 8.28295L1.91924 11.8084C0.691329 13.0363 1.38653e-06 14.7026 1.38653e-06 16.4412C-0.00112817 18.1785 0.687945 19.8458 1.91586 21.0748C3.14377 22.305 4.80887 22.9974 6.5463 22.9997L6.55873 23Z",fill:c}),Object(f.jsx)("path",{d:"M11.8829 1.8452L8.35744 5.39119C7.90559 5.84305 7.90559 6.57619 8.35744 7.02804C8.8093 7.4799 9.54244 7.4799 9.99429 7.02804L13.5166 3.48205C14.3051 2.65515 15.3952 2.18184 16.5383 2.16828C17.6803 2.15472 18.7806 2.60205 19.5895 3.40975C20.3983 4.21857 20.8468 5.31771 20.8332 6.46095C20.8208 7.60413 20.3463 8.69425 19.5206 9.48265L15.9858 13.0194C15.7283 13.225 15.569 13.53 15.5509 13.8598C15.5317 14.1885 15.6549 14.5105 15.8876 14.7432C16.1203 14.977 16.4422 15.099 16.7721 15.0798C17.1008 15.0618 17.4058 14.9036 17.6114 14.6449L21.1574 11.1195C22.7682 9.4544 23.3816 7.06191 22.7694 4.82737C22.1571 2.59182 20.4107 0.84528 18.1751 0.233073C15.9406 -0.379191 13.5481 0.234203 11.883 1.84505L11.8829 1.8452Z",fill:c}),Object(f.jsx)("path",{d:"M6.31805 16.6842C6.53494 16.9011 6.82977 17.0231 7.13703 17.0231C7.44316 17.0231 7.73798 16.9011 7.95487 16.6842L16.758 7.87879C17.2098 7.4258 17.2098 6.69379 16.758 6.24194C16.3061 5.79008 15.573 5.79008 15.1211 6.24194L6.31802 15.0497C5.8673 15.5015 5.8673 16.2324 6.31802 16.6842L6.31805 16.6842Z",fill:c})]})}n(230),n(231);function W(e){var t=e.isUserVideoActive,n=e.isUserAudioActive,a=e.handleVideoButton,i=e.handleAudioButton,s=e.hideMuteButton,r=Object(c.useState)(!1),l=Object(o.a)(r,2),d=l[0],u=l[1],j=Object(c.useState)(!1),h=Object(o.a)(j,2),b=h[0],p=h[1],v=Object(c.useCallback)((function(){u(!d)}),[d]),m=Object(c.useCallback)((function(){navigator.permissions.query({name:"clipboard-write"}).then((function(e){if("granted"===e.state||"prompt"===e.state){var t=window.location.href,n=new URL(t).searchParams.get("parentURL")||t;navigator.clipboard.writeText(n).then((function(){p(!0),setTimeout((function(){p(!1)}),2e3)}),(function(){console.log("Failed to copy - error in writeText")}))}else console.log("Failed to copy - permission denied")}))}),[]),O=d?Object(f.jsxs)("div",{className:"media-selectors__menu",children:[Object(f.jsx)(J,{type:"audio"}),Object(f.jsx)(J,{type:"video"})]}):null,x=d?Object(f.jsx)("div",{className:"media-selectors__click-target",onClick:function(){return u(!1)}}):null,C=Object(f.jsxs)("div",{className:"media-selectors",children:[Object(f.jsx)("div",{className:"audio-video-controls__button",onClick:m,children:Object(f.jsx)(K,{width:24,height:24,fill:b?"rgba(80, 176, 108, 1)":"white"})}),Object(f.jsx)("div",{className:"link-copied-tooltip",style:{opacity:b?1:0},children:"Location URL Copied to Clipboard"}),Object(f.jsx)("div",{className:"audio-video-controls__button",onClick:v,children:Object(f.jsx)(q,{width:24,height:24,fill:d?"rgba(80, 176, 108, 1)":"white"})}),x,O]}),w=s?null:Object(f.jsx)("div",{className:"audio-video-controls__button ".concat(n?"is-active":""),onClick:function(){return i(!n)},children:Object(f.jsx)(D,{width:30,height:30,fill:"white",isAudioOff:!n})}),L=Object(f.jsx)("div",{className:"audio-video-controls__button ".concat(t?"is-active":""),onClick:function(){return a(!t)},children:Object(f.jsx)(z,{width:34,height:34,fill:"white",isVideoOff:!t})});return Object(f.jsxs)("div",{className:"audio-video-controls",children:[w,L,C]})}function Q(e){var t=e.width,n=e.height,c=(e.fill,e.additionalStyles),a=Object(X.a)({width:"".concat(t,"px"),height:"".concat(n,"px")},c),i="0 0 ".concat(24," ",34);return Object(f.jsxs)("svg",{fill:"none",xmlns:"http://www.w3.org/2000/svg",style:a,viewBox:i,className:"swap-icon",children:[Object(f.jsx)("g",{style:{transform:"translate(0px, ".concat(2,"px)")},children:Object(f.jsx)("path",{d:"M1.15317 13.116L2.73084 11.2954C3.33772 10.5972 4.24805 10.1729 5.15839 10.1729H15.4445L14.7772 13.5108C14.5947 14.3606 15.5666 14.9675 16.2636 14.4519L24.8513 8.07959C25.367 7.7157 25.367 6.92626 24.8513 6.56237L16.2636 0.190056C15.5654 -0.325556 14.5946 0.281326 14.7772 1.13122L15.4445 4.43815H4.94598C2.27543 4.43815 0.121826 6.59308 0.121826 9.2623V12.7209C0.121826 13.2674 0.78916 13.5412 1.15305 13.1157L1.15317 13.116Z",fill:"white"})}),Object(f.jsx)("g",{style:{transform:"translate(0px, ".concat(n/1.7,"px)")},children:Object(f.jsx)("path",{d:"M24.4579 1.72449C23.9115 1.51231 23.3354 1.66404 22.9407 2.11921L21.4839 3.81779C21.0596 4.30379 20.4527 4.5764 19.7842 4.5764H11.0756L11.5 2.42147C11.6517 1.7233 11.3483 1.02514 10.7414 0.631634C10.1345 0.236915 9.37587 0.267745 8.79981 0.692087L0.698164 6.73122C0.273828 7.0655 0 7.55028 0 8.09672C0 8.64316 0.242992 9.15878 0.698164 9.46222L8.79981 15.4707C9.10325 15.6829 9.46714 15.805 9.83103 15.805C10.1345 15.805 10.4688 15.7137 10.7414 15.5324C11.3483 15.1376 11.6517 14.4395 11.5 13.7425L11.0756 11.5876L19.9668 11.5864C22.9408 11.5864 25.3375 9.18968 25.3375 6.21575V2.99864C25.3683 2.42258 25.0044 1.90694 24.458 1.72442L24.4579 1.72449ZM23.729 6.24519C23.729 8.30885 22.06 9.97785 19.9963 9.97785H10.074C9.83101 9.97785 9.58801 10.0988 9.43628 10.2813C9.28456 10.4638 9.22411 10.7056 9.25374 10.9486L9.89146 14.0744C9.89146 14.1052 9.89146 14.1349 9.86064 14.1657C9.80019 14.1965 9.80019 14.1657 9.76937 14.1657L1.66894 8.15719C1.66894 8.15719 1.63812 8.12637 1.63812 8.09674C1.63812 8.06592 1.66894 8.03628 1.66894 8.03628L9.77059 2.02779C9.8014 2.02779 9.8014 1.99697 9.86186 2.02779C9.92231 2.05861 9.89267 2.08824 9.89267 2.11906L9.25496 5.24484C9.1945 5.48783 9.25496 5.73083 9.4375 5.91217C9.58922 6.09471 9.83222 6.21561 10.0752 6.21561H19.7854C20.9079 6.21561 21.97 5.72962 22.699 4.88095L23.7006 3.72762L23.6994 6.24526L23.729 6.24519Z",fill:"white"})})]})}n(232);function $(e){var t=e.handleSwap;return Object(f.jsxs)("div",{className:"swap-roles-button",onClick:t,children:[Object(f.jsx)(Q,{width:25,height:25,fill:"black",additionalStyles:{marginRight:"5px"}}),"Swap Role"]})}function ee(e){var t=e.width,n=e.height,c=e.fill,a=e.additionalStyles,i=(e.isHandDown,Object(X.a)({width:"".concat(t,"px"),height:"".concat(n,"px")},a)),s="0 0 ".concat(24," ",24);return Object(f.jsx)("svg",{style:i,viewBox:s,className:"hand-icon",children:Object(f.jsx)("path",{fill:c,d:"M22.685 6.5908C21.8731 6.53286 21.0601 7.23167 20.8283 8.10666L19.32 12.4792C18.914 13.2371 18.334 12.5962 18.3916 12.2462C18.4493 11.8962 19.6106 3.55903 19.6106 3.55903C19.7847 2.68405 19.6682 1.81024 18.7988 1.63522C17.9281 1.46022 17.2904 2.10111 17.1163 2.97609C17.1163 2.97609 15.8973 10.7894 15.5502 11.5474C15.202 12.3053 14.8537 12.0724 14.8537 11.4894C14.8537 11.1394 15.4338 1.75215 15.4338 1.75215C15.4914 0.877165 15.1431 0.0612972 14.2736 0.00336037C13.403 -0.0545795 12.997 0.644237 12.9394 1.51922C12.9394 1.51922 12.0687 10.6735 12.0111 11.3143C11.9534 11.9552 11.3734 12.0143 11.2569 11.3143C11.1404 10.6143 10.7933 3.15199 10.7933 3.15199C10.7933 2.277 10.3874 1.51907 9.51672 1.51907C8.64606 1.51907 8.24013 2.277 8.24013 3.15199C8.24013 3.15199 8.18248 10.7903 8.24013 12.1891C8.29778 13.705 8.35661 17.4945 7.36947 17.6117C6.44116 17.7287 4.99044 16.6208 4.17851 15.3958C3.48197 14.405 2.2642 13.7629 0.98755 13.9379C-0.869103 14.1708 0.233365 15.6287 1.50996 17.0288C4.23727 20.0026 4.93254 21.5762 6.26808 23.5592C7.13875 24.9001 9.16953 27.0581 12.8816 26.9988C17.8714 26.9409 20.6563 24.9579 21.2943 16.3286C21.4107 14.4048 22.8603 8.34006 23.0933 7.64143C23.2062 7.52318 23.1486 6.59024 22.685 6.59024V6.5908Z"})})}n(233);function te(e){var t=e.participantInfo,n=e.isHandRaised,a=e.isCalledOn,i=e.handleClick,s=e.name,r=e.isSelf,o=Object(c.useRef)(),l=Object(c.useRef)(),d=t.id,u=t.stream,j=t.isVideo,h=Object(c.useCallback)((function(e){var t=e.stream.find((function(e){return"Camera"===e.type}));navigator.attachMediaStream(l.current,t)}),[]);Object(c.useEffect)((function(){j&&h({stream:u})}),[j,u,o,d,h]);var b=n?Object(f.jsx)(ee,{height:60,width:50,fill:"#50b06c",additionalStyles:{position:"absolute",bottom:"10px",left:"10px"}}):null,p=t.isYou?"".concat(s," (You)"):s;return Object(f.jsxs)("div",{className:"participant-grid-item ".concat(r?" flipped":""," ").concat(a?"called-on":""," ").concat(n?"hand-raised":""),ref:o,onClick:i,children:[j?Object(f.jsx)("video",{id:"video-object",className:"participant-grid-item__video",ref:l,style:{height:"100%",width:"100%",objectFit:"cover"},playsInline:!0,autoPlay:!0,muted:!0}):null,j?null:Object(f.jsx)("div",{className:"participant-grid-item__no-video-icon-container",children:Object(f.jsx)(z,{width:60,height:60,fill:"#ffffff55",isVideoOff:!0})}),Object(f.jsx)("div",{className:"participant-grid-item__name ".concat(n?"hand-raised":""," ").concat(a?"called-on":""),children:p}),b,Object(f.jsx)("div",{className:"outline"}),a?Object(f.jsxs)("div",{className:"called-on-notice",children:["Student has been called on.",Object(f.jsx)("br",{}),"Click again to mute."]}):Object(f.jsx)("div",{className:"call-on-notice",children:"Click to call on"})]})}n(234);function ne(e){var t=e.participantList,n=e.classRoom,a=e.isTeacher,i=e.cell,s=Object(c.useRef)(),r=Object(c.useCallback)((function(e){if(a){var t=n[e].isCalledOn;E({cell:i,seat:e,isCalledOn:!t})}}),[a,n,i]),o=t.map((function(e,t){return Object(f.jsx)(te,{participantInfo:e,isHandRaised:!!n&&n[t].isHandRaised,isCalledOn:n[t].isCalledOn,handleClick:function(){return r(t)},name:n[t].name,isSelf:e.id===g.session.participant.id},"participant-".concat(t))}));return Object(f.jsx)("div",{className:"participant-grid",ref:s,children:o})}n(235);function ce(e){var t=e.studentsParticipantList,n=e.classRoom,c=e.cell;if(!n)return null;var a=n.map((function(e){if(!1===e.participantId)return{id:null,isVideo:!1,isYou:!1,name:e.name,participant:null,stream:null};var n=t.find((function(t){return t.id===e.participantId}));return n||{id:null,isVideo:!1,isYou:!1,name:"",participant:null,stream:null}}));return Object(f.jsx)("div",{className:"teacher-students-row",children:Object(f.jsx)(ne,{participantList:a,classRoom:n,isTeacher:!0,cell:c})})}function ae(e){var t=e.width,n=e.height,c=e.fill,a=e.additionalStyles,i=e.isSharing,s=Object(X.a)({width:"".concat(t,"px"),height:"".concat(n,"px")},a),r="0 0 ".concat(32," ",34),o=i?Object(f.jsx)("line",{x1:"30.7408",y1:"0",x2:"0",y2:"24.2592",stroke:"white","stroke-width":"2","stroke-linecap":"round"}):null;return Object(f.jsxs)("svg",{style:s,viewBox:r,className:"hand-icon",children:[Object(f.jsx)("path",{d:"M27.0267 21.9997H15.9156C15.4091 21.9997 14.9989 21.5895 14.9989 21.083C14.9989 20.5766 15.4091 20.1664 15.9156 20.1664H27.0267C27.2834 20.1664 27.4999 19.9498 27.4999 19.6931V2.29508C27.4999 2.04529 27.2891 1.83332 27.0382 1.83332H2.29508C2.04071 1.83332 1.83332 2.04071 1.83332 2.29508V5.9582C1.83332 6.46467 1.42313 6.87486 0.91666 6.87486C0.410194 6.87486 0 6.46467 0 5.9582V2.29508C0 1.02895 1.02895 0 2.29508 0H27.0382C28.3043 0 29.3332 1.02895 29.3332 2.29508V19.6931C29.3332 20.965 28.2986 21.9997 27.0267 21.9997Z",fill:c}),Object(f.jsx)("path",{d:"M1.83335 21.083C1.83335 22.3056 3.05176e-05 22.3056 3.05176e-05 21.083C3.05176e-05 19.8604 1.83335 19.8604 1.83335 21.083Z",fill:c}),Object(f.jsx)("path",{d:"M4.58333 21.9997C4.07687 21.9997 3.66667 21.5895 3.66667 21.0831C3.66667 19.5671 2.43263 18.3331 0.916691 18.3331C0.410225 18.3331 3.05176e-05 17.9229 3.05176e-05 17.4164C3.05176e-05 16.91 0.410225 16.4998 0.916691 16.4998C3.44438 16.4998 5.49999 18.5554 5.49999 21.0831C5.49999 21.5895 5.0898 21.9997 4.58333 21.9997Z",fill:c}),Object(f.jsx)("path",{d:"M8.24997 21.9996C7.74351 21.9996 7.33331 21.5894 7.33331 21.0829C7.33331 17.5457 4.455 14.6663 0.916691 14.6663C0.410225 14.6663 3.05176e-05 14.2561 3.05176e-05 13.7497C3.05176e-05 13.2432 0.410225 12.833 0.916691 12.833C5.46567 12.833 9.16663 16.534 9.16663 21.0829C9.16663 21.5894 8.75644 21.9996 8.24997 21.9996Z",fill:c}),Object(f.jsx)("path",{d:"M11.9166 21.9997C11.4101 21.9997 11 21.5896 11 21.0831C11 15.5236 6.4762 10.9998 0.916691 10.9998C0.410225 10.9998 3.05176e-05 10.5896 3.05176e-05 10.0832C3.05176e-05 9.5767 0.410225 9.1665 0.916691 9.1665C7.48672 9.1665 12.8333 14.5131 12.8333 21.0831C12.8333 21.5896 12.4231 21.9997 11.9166 21.9997Z",fill:c}),o]})}n(236);function ie(){var e=Object(c.useState)(!1),t=Object(o.a)(e,2),n=t[0],a=t[1],i=Object(c.useCallback)((function(){n?g.conference.stopScreenShare().then((function(){})).catch((function(e){})):g.conference.startScreenShare().then((function(){})).catch((function(e){})),a(!n)}),[n]),s=n?"Stop Screen Share":"Share Screen";return Object(f.jsxs)("div",{className:"screenshare-button ".concat(n?"is-active":""),onClick:i,children:[Object(f.jsx)(ae,{height:30,width:30,fill:"white",isSharing:n,additionalStyles:{marginRight:"5px",paddingTop:"0.66em"}}),s]})}n(237);function se(e){var t=e.teacherParticipantId,n=Object(c.useRef)(),a=Object(c.useRef)(),i=Object(c.useRef)(),s=t.stream,r=t.isVideo,o=t.isScreenshare,l=t.id===g.session.participant.id,d=Object(c.useCallback)((function(e){var t=e.stream.find((function(e){return"Camera"===e.type}));navigator.attachMediaStream(a.current,t)}),[]),u=Object(c.useCallback)((function(e){var t=e.stream.find((function(e){return"ScreenShare"===e.type}));navigator.attachMediaStream(i.current,t)}),[]);return Object(c.useEffect)((function(){r&&d({stream:s})}),[r,d,s]),Object(c.useEffect)((function(){o&&u({stream:s})}),[o,u,s]),Object(f.jsxs)("div",{className:"teacher-row",children:[Object(f.jsx)("div",{className:"teacher-row__left",children:Object(f.jsx)("div",{className:"teacher",ref:n,children:r?Object(f.jsx)("video",{id:"teacher-video-object",className:l?"teacher__video flipped":"teacher__video",ref:a,style:{height:"100%",width:"100%",objectFit:"cover"},playsInline:!0,autoPlay:!0,muted:!0}):null})}),Object(f.jsx)("div",{className:"teacher-row__right",children:Object(f.jsxs)("div",{className:"screenshare-container",children:[o?Object(f.jsx)("video",{id:"teacher-screenshare-object",className:"teacher__screenshare",ref:i,style:{height:"100%",width:"100%",objectFit:"cover"},playsInline:!0,autoPlay:!0,muted:!0}):null,Object(f.jsx)(ie,{})]})})]})}n(238);function re(e){var t=e.role,n=Object(c.useState)(!1),a=Object(o.a)(n,2),i=a[0],s=a[1],r=Object(f.jsxs)("ul",{className:"info-rollover__list",children:[Object(f.jsx)("li",{children:"All students are muted by default"}),Object(f.jsx)("li",{children:"Click the button to raise your hand"}),Object(f.jsx)("li",{children:"Your teacher can call you on you, which will give you the permission to unmute for a period of time"})]}),l="teacher"===t?Object(f.jsxs)("ul",{className:"info-rollover__list",children:[Object(f.jsx)("li",{children:"All students are muted by default, but can raise their hands to indicate they\u2019d like to speak."}),Object(f.jsx)("li",{children:"Call on a student by selecting their name or image. This will temporarily unmute them."}),Object(f.jsx)("li",{children:"As a teacher you can share your screen"})]}):r;return Object(f.jsxs)("div",{className:"info-rollover",children:[Object(f.jsx)("div",{className:"info-rollover__icon",onMouseEnter:function(){return s(!0)},onMouseLeave:function(){return s(!1)},children:"?"}),Object(f.jsx)("div",{className:"info-rollover__info-panel",style:{display:i?"block":"none"},children:l})]})}n(239);function oe(e){var t,n=e.role;return t="student"===n?Object(f.jsxs)("span",{className:"you-are__main-text",children:["You are a ",Object(f.jsx)("span",{className:"you-are__role-text",children:"Student"})]}):Object(f.jsxs)("span",{children:["You are the ",Object(f.jsx)("span",{className:"you-are__role-text",children:" Teacher "})]}),Object(f.jsxs)("div",{className:"you-are",children:[Object(f.jsx)("div",{className:"you-are__message",children:t}),Object(f.jsx)(re,{role:n})]})}n(240);var le=function(e){var t=e.cell,n=(e.selfId,e.teacherId),a=e.participantList,i=e.classRoom,s=e.isUserAudioActive,r=e.isUserVideoActive,o=e.handleAudioActiveUpdate,l=e.handleVideoActiveUpdate,d=Object(c.useCallback)((function(e){e.newData}),[]),u=Object(c.useCallback)((function(){R({cell:t,teacherId:null})}),[t]),j=Object(c.useCallback)((function(){R({cell:t,teacherId:null})}),[t]);Object(c.useEffect)((function(){return A({cell:t,callback:d}),window.addEventListener("beforeunload",u),function(){window.removeEventListener("beforeunload",u)}}),[t,d,u]);var h=a.filter((function(e){return e.id!==n})),b=n?a.find((function(e){return e.id===n})):null,p=b?Object(f.jsx)(se,{teacherParticipantId:b}):null;return Object(f.jsxs)("div",{className:"teacher-view",children:[Object(f.jsx)(W,{isUserVideoActive:r,isUserAudioActive:s,handleVideoButton:l,handleAudioButton:o}),Object(f.jsxs)("div",{className:"teacher-view__top-controls",children:[Object(f.jsx)(oe,{role:"teacher"}),Object(f.jsx)($,{handleSwap:j})]}),Object(f.jsx)(ce,{studentsParticipantList:h,classRoom:i,cell:t}),p]})},de=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window,a=Object(c.useRef)();Object(c.useEffect)((function(){a.current=t}),[t]),Object(c.useEffect)((function(){if(n&&n.addEventListener){var t=function(e){return a.current(e)};return n.addEventListener(e,t),function(){n.removeEventListener(e,t)}}}),[e,n])};n(241);function ue(e){var t=e.isRaised,n=e.onRaiseHand;return Object(f.jsxs)("div",{className:"raise-hand-button ".concat(t?"is-raised":""),onClick:function(){n()},children:[Object(f.jsx)(ee,{height:32,width:25,fill:"white"}),t?"Lower Hand":"Raise Hand"]})}n(242);function fe(e){var t=e.studentsParticipantList,n=e.classRoom;if(!n)return null;var c=n.map((function(e){if(!1===e.participantId)return{id:null,isVideo:!1,isYou:!1,name:e.name,participant:null,stream:null};var n=t.find((function(t){return t.id===e.participantId}));return n||{id:null,isVideo:!1,isYou:!1,name:"",participant:null,stream:null}}));return Object(f.jsx)("div",{className:"students-row",children:Object(f.jsx)(ne,{participantList:c,classRoom:n,isTeacher:!1})})}n(243);function je(e){var t=e.teacherParticipantId,n=Object(c.useRef)(),a=Object(c.useRef)(),i=Object(c.useRef)(),s=t.stream,r=t.isVideo,o=t.isScreenshare,l=Object(c.useCallback)((function(e){var t=e.stream.find((function(e){return"Camera"===e.type}));navigator.attachMediaStream(a.current,t)}),[]),d=Object(c.useCallback)((function(e){var t=e.stream.find((function(e){return"ScreenShare"===e.type}));navigator.attachMediaStream(i.current,t)}),[]);return Object(c.useEffect)((function(){r&&l({stream:s})}),[r,l,s]),Object(c.useEffect)((function(){o&&d({stream:s})}),[o,d,s]),Object(f.jsxs)("div",{className:"teacher-row-student-view",children:[Object(f.jsx)("div",{className:"teacher-row-student-view__left",children:Object(f.jsx)("div",{className:"teacher",ref:n,children:r?Object(f.jsx)("video",{id:"teacher-video-object",className:"teacher__video",ref:a,style:{height:"100%",width:"100%",objectFit:"cover",borderRadius:"10px"},playsInline:!0,autoPlay:!0,muted:!0}):null})}),Object(f.jsx)("div",{className:"teacher-row-student-view__right",children:Object(f.jsx)("div",{className:"screenshare-container",children:o?Object(f.jsx)("video",{id:"teacher-screenshare-object",className:"teacher__screenshare",ref:i,style:{height:"100%",width:"100%",objectFit:"cover"},playsInline:!0,autoPlay:!0,muted:!0}):null})})]})}n(244);function he(){return Object(f.jsx)("div",{className:"no-teacher-row",children:Object(f.jsx)("div",{className:"no-teacher-row__inner",children:"Your Teacher has not yet arrived."})})}var be=n(34),pe=n(105),ve=n.n(pe);n(246);function me(e){var t=e.isUserAudioActive,n=e.participantList,a=Object(c.useRef)(),i=Object(c.useState)(0),s=Object(o.a)(i,2),r=s[0],l=s[1],d=Object(c.useState)(0),u=Object(o.a)(d,2),j=u[0],h=u[1],b=Object(c.useState)(0),p=Object(o.a)(b,2),v=p[0],m=p[1],O=Object(c.useMemo)((function(){return n.find((function(e){return e.isYou}))}),[n]),x=Object(c.useCallback)((function(e){l(e)}),[]),C=Object(c.useCallback)((function(){var e=+be.e(a.current).style("height").replace("px","")||0,t=+be.e(a.current).style("width").replace("px","")||0;h(e),m(t)}),[]);Object(c.useEffect)((function(){var e=setInterval((function(){var e,t;e=O,t=x,g.conference.audioLevel(e,t)}),100);return C(),window.addEventListener("resize",C),function(){window.removeEventListener("resize",C),clearInterval(e)}}),[O,x,C]);var w,L=be.d().domain([0,1]).range([0,j/2]),y=be.c().domain([0,100]).range([0,v]);w=be.b().x((function(e){return y(e.x)})).y((function(e){return L(e.y)})).curve(be.a)(ve.a.range(101).map((function(e){return e%2===0?{x:e,y:r}:{x:e,y:-r}})));var k=t?Object(f.jsx)("path",{d:w,fill:"none",stroke:"yellowgreen","stroke-width":"2"}):null;return Object(f.jsxs)("div",{className:"called-on-notification",children:[Object(f.jsx)("svg",{className:"audio-svg",ref:a,children:Object(f.jsx)("g",{style:{transform:"translate(".concat(0,"px,",j/2,"px)")},children:k})}),Object(f.jsx)("div",{className:"called-on-notification__first",children:"You\u2019ve been called on"}),Object(f.jsx)("div",{className:"called-on-notification__second",children:"hold the spacebar to talk"})]})}n(247);function Oe(e){var t=e.classRoom,n=e.teacherId,c=e.selectionHandler,a=e.teacherSelectionHandler,i=t.map((function(e,t){var n=!1!==e.participantId,a=n?"is-taken":"is-available";return Object(f.jsx)("div",{className:"seat-selectors__selector ".concat(a),onClick:function(){return function(e,t){t||c({seat:e})}(t,n)},children:"".concat(e.name)},"seat-".concat(t))})),s=Object(f.jsx)("div",{className:"seat-selectors__selector ".concat(n?"is-taken":"is-available"),onClick:function(){return function(e){e||a()}(n)},children:"Teacher"});return Object(f.jsx)("div",{className:"seat-selection",children:Object(f.jsx)("div",{className:"seat-selection__overlay",children:Object(f.jsxs)("div",{className:"seat-selection__content",children:[Object(f.jsxs)("div",{className:"seat-selection__instructions",children:[Object(f.jsx)("h1",{children:"Select Your Role"}),Object(f.jsx)("p",{children:"Choose a role to demonstrate the classroom experience. If option is greyed out, another user has already selected that role."})]}),Object(f.jsxs)("div",{className:"seat-selectors",children:[Object(f.jsxs)("div",{className:"seat-selectors__left",children:[Object(f.jsxs)("div",{className:"seat-selectors__section-instructions",children:[Object(f.jsx)("h2",{children:"Teacher"}),Object(f.jsx)("p",{children:"Screenshare & control audio permissions for students"})]}),Object(f.jsx)("div",{className:"seat-selectors__teacher-grid",children:s})]}),Object(f.jsxs)("div",{className:"seat-selectors__right",children:[Object(f.jsxs)("div",{className:"seat-selectors__section-instructions",children:[Object(f.jsx)("h2",{children:"Students"}),Object(f.jsx)("p",{children:"Raise hand & push-to-talk when called upon"})]}),Object(f.jsx)("div",{className:"seat-selectors__seat-grid",children:i})]})]})]})})})}n(248);var xe=function(e){var t=e.cell,n=e.selfId,a=e.teacherId,i=e.participantList,s=e.classRoom,r=e.isUserAudioActive,l=e.isUserVideoActive,d=e.handleAudioActiveUpdate,u=e.handleVideoActiveUpdate,j=Object(c.useState)(null),h=Object(o.a)(j,2),b=h[0],p=h[1],v=Object(c.useCallback)((function(){null!==b&&M({cell:t,seat:b,userId:!1})}),[t,b]),m=Object(c.useMemo)((function(){if(null!==b)return s[b].isHandRaised}),[s,b]),O=Object(c.useMemo)((function(){if(null!==b)return s[b].isCalledOn}),[s,b]),x=Object(c.useCallback)((function(){null!==b&&(M({cell:t,seat:b,userId:!1}),p(null))}),[b,t]),C=Object(c.useCallback)((function(){R({cell:t,teacherId:n})}),[t,n]),w=Object(c.useCallback)((function(e){var c=e.seat;M({cell:t,seat:c,userId:n}),p(c)}),[t,n]),L=Object(c.useCallback)((function(){U({cell:t,seat:b,isHandRaised:!m})}),[t,b,m]),g=Object(c.useCallback)((function(e){" "===e.key&&!r&&O&&d(!0)}),[O,r,d]),y=Object(c.useCallback)((function(e){" "===e.key&&r&&d(!1)}),[r,d]);Object(c.useEffect)((function(){return window.addEventListener("beforeunload",v),function(){window.removeEventListener("beforeunload",v),null!==b&&M({cell:t,seat:b,userId:!1})}}),[b,t,v]),de("keydown",g),de("keyup",y);var k=i.filter((function(e){return e.id!==a})),S=a?i.find((function(e){return e.id===a})):null,N=s&&null===b?Object(f.jsx)(Oe,{classRoom:s,teacherId:a,selectionHandler:w,teacherSelectionHandler:C}):null,_=S?Object(f.jsx)(je,{teacherParticipantId:S}):Object(f.jsx)(he,{}),I=null===b||O?null:Object(f.jsx)(ue,{isRaised:m,onRaiseHand:L}),A=O?null:Object(f.jsx)($,{handleSwap:x}),V=O?Object(f.jsx)(me,{isUserAudioActive:r,participantList:i}):null;return Object(f.jsxs)("div",{className:"student-view",children:[N,Object(f.jsx)(W,{isUserVideoActive:l,isUserAudioActive:r,handleVideoButton:u,handleAudioButton:d,hideMuteButton:!0}),Object(f.jsxs)("div",{className:"student-view__top-controls",children:[Object(f.jsx)(oe,{role:"student"}),I,A,V]}),_,Object(f.jsx)(fe,{studentsParticipantList:k,classRoom:s})]})};n(249);var Ce=function(){var e=Object(c.useState)(null),t=Object(o.a)(e,2),n=t[0],a=t[1],i=Object(c.useState)(null),s=Object(o.a)(i,2),l=s[0],d=s[1],u=Object(c.useState)(null),j=Object(o.a)(u,2),h=j[0],m=j[1],O=Object(c.useState)([]),x=Object(o.a)(O,2),C=x[0],w=x[1],y=Object(c.useState)(null),k=Object(o.a)(y,2),S=k[0],N=k[1],I=Object(c.useState)(!0),R=Object(o.a)(I,2),V=R[0],H=R[1],U=Object(c.useState)(!1),E=Object(o.a)(U,2),B=E[0],T=E[1],Y=Object(c.useCallback)((function(e){var t=e.newData;l===t&&T(!0),m(t)}),[l]),Z=Object(c.useCallback)((function(e){var t=e.newData;N(t)}),[]),D=Object(c.useCallback)((function(e){T(e)}),[]),z=Object(c.useCallback)((function(e){H(e)}),[]),F=Object(c.useCallback)((function(e,t){var n=C.findIndex((function(t){return t.id===e.id}));if(-1===n){var c,a;g.session.participant.id===e.id?(a=!0,c="".concat(e.info.name," (you)")):(a=!1,c=e.info.name);var i={name:c,id:e.id,participant:e,stream:e.streams,isVideo:!0,isScreenshare:!1,isYou:a,isInactive:!1},s=[].concat(Object(r.a)(C),[i]);w(s)}else{var o=Object(r.a)(C),l=!1,d=!1,u=e.streams.find((function(e){return"Camera"===e.type})),f=e.streams.find((function(e){return"ScreenShare"===e.type}));u&&(l=u.getVideoTracks().length>0),f&&(d=f.getVideoTracks().length>0);var j={name:o[n].name,id:e.id,participant:e,stream:e.streams,isVideo:l,isScreenshare:d,isYou:o[n].isYou};o[n]=j,w(o)}}),[C]),G=Object(c.useCallback)((function(e,t){if("Left"!==e.status){var n=C.findIndex((function(t){return t.id===e.id})),c=void 0!==e.streams.find((function(e){return"Camera"===e.type})),a=void 0!==e.streams.find((function(e){return"ScreenShare"===e.type})),i=Object(r.a)(C),s={name:i[n].name,id:e.id,participant:e,stream:e.streams,isVideo:c,isScreenshare:a,isInactive:!0};i[n]=s,w(i)}}),[C]),J=Object(c.useCallback)((function(e,t){if("Left"===e.status){if(!S)return;var c=S.findIndex((function(t){return t.participantId===e.id}));-1!==c&&M({cell:n,seat:c,userId:!1});var a=Object(r.a)(C).filter((function(t){return t.id!==e.id}));w(a),e.id===h&&m(null)}}),[C,S,n,h]);!function(e){var t=e.cell,n=e.teacherId,a=e.setTeacherId,i=e.classRoom,s=e.setUserIdInSeat;Object(c.useEffect)((function(){var e=setInterval((function(){g.conference.participants&&(n&&(g.conference.participants.get(n)||a(null)),i.forEach((function(e,n){var c=e.participantId;g.conference.participants.get(c)||s({cell:t,seat:n,userId:!1})})))}),5e3);return function(){clearInterval(e)}}),[t,n,a,i,s])}({cell:n,teacherId:h,setTeacherId:m,classRoom:S,setUserIdInSeat:M});var X=Object(c.useCallback)((function(){if(h!==l)m(null);else{var e=S.findIndex((function(e){return e.participantId===l}));-1!==e&&M({cell:n,seat:e,userId:!1})}}),[n,S,l,h]);Object(c.useEffect)((function(){var e=new URLSearchParams(window.location.search).get("cell");return a(e||"test1234"),window.addEventListener("exit",X),function(){window.removeEventListener("exit",X)}}),[X]),Object(c.useEffect)((function(){if(B)try{g.conference.startAudio(g.session.participant).then((function(){})).catch((function(e){console.error(e)}))}catch(e){}else try{g.conference.stopAudio(g.session.participant).then((function(){})).catch((function(e){console.error(e)}))}catch(t){}}),[B]),Object(c.useEffect)((function(){if(V)try{g.conference.startVideo(g.session.participant).then((function(){})).catch((function(e){console.error(e)}))}catch(e){}else try{g.conference.stopVideo(g.session.participant).then((function(){})).catch((function(e){console.error(e)}))}catch(t){}}),[V]),Object(c.useEffect)((function(){h!==l&&T(!1)}),[h,l]),Object(c.useEffect)((function(){var e;n&&(A({cell:n,callback:Y}),(e=n,new Promise((function(t,n){g.conference.create({alias:e}).then((function(e){t(e)})).catch((function(e){console.error(e),n(e)}))}))).then((function(e){return P(e)})).then((function(e){var t=g.session.participant.id;d(t),N(e),function(e){var t=e.cell,n=e.callback;_.ref("".concat(t,"/classRoom")).on("value",(function(e){n({newData:e.val()})}))}({cell:n,callback:Z})})))}),[n,Z]),Object(c.useEffect)((function(){return g.conference.on("streamAdded",F),g.conference.on("streamUpdated",F),g.conference.on("streamRemoved",G),g.conference.on("participantUpdated",J),function(){g.conference.off("streamAdded",F),g.conference.off("streamUpdated",F),g.conference.off("streamRemoved",G),g.conference.off("participantUpdated",J)}}),[C,F,G,J]);var q=!1;l===h&&(q=!0);var K=q?Object(f.jsx)(le,{cell:n,selfId:l,teacherId:h,participantList:C,classRoom:S,isUserAudioActive:B,isUserVideoActive:V,handleAudioActiveUpdate:D,handleVideoActiveUpdate:z}):Object(f.jsx)(xe,{cell:n,selfId:l,teacherId:h,participantList:C,classRoom:S,isUserAudioActive:B,isUserVideoActive:V,handleAudioActiveUpdate:D,handleVideoActiveUpdate:z});return Object(f.jsx)("div",{className:"app",children:Object(f.jsx)("div",{className:"ms-Grid",dir:"ltr",children:Object(f.jsxs)("div",{className:"ms-Grid-row",children:[Object(f.jsx)("div",{className:"ms-Grid-col ms-sm1 ms-xl1",children:Object(f.jsx)(b,{})}),Object(f.jsxs)("div",{className:"main-element ms-Grid-col ms-sm11 ms-xl11",children:[Object(f.jsxs)("div",{className:"ms-Grid-row",children:[" ",Object(f.jsx)(p.a,{children:Object(f.jsxs)(v.c,{children:[Object(f.jsx)(v.a,{path:"/",element:K}),Object(f.jsx)(v.a,{path:"/home",element:Object(f.jsx)(L,{})})]})})]}),Object(f.jsx)("div",{className:"ms-Grid-row"})]})]})})})},we=function(e){var t=e.children,n=Object(c.useState)(!1),a=Object(o.a)(n,2),i=a[0],s=a[1];return Object(c.useEffect)((function(){g.session.open({name:"Test User"}).then((function(){s(!0)}))}),[]),i?t:Object(f.jsx)("div",{children:"Loading session..."})},Le=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,282)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,i=t.getLCP,s=t.getTTFB;n(e),c(e),a(e),i(e),s(e)}))};s.a.render(Object(f.jsx)(a.a.StrictMode,{children:Object(f.jsx)(we,{children:Object(f.jsx)(Ce,{})})}),document.getElementById("root")),Le()}},[[250,1,2]]]);
//# sourceMappingURL=main.3f7d71bd.chunk.js.map